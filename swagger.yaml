openapi: 3.0.1
info:
  title: Eurus API Version 0.1.16
  description: Eurus API specification version 0.1.16
  termsOfService: http://swagger.io/terms/
  contact:
    email: placeholder@18m.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: 0.1.15
externalDocs:
  description: Find out more about Swagger
  url: http://swagger.io
servers:
  - url: http://54.254.5.83:8082/
tags:
  - name: User Account
    description: User related service
  - name: User Trascation
    description: User related service
  - name: User Contact
    description: User related service
  - name: User Others
    description: User related service
  - name: admin
    description: Admin management service
  - name: merchant
    description: Merchant admin management service

paths:
  /user/registerByEmail:
    post:
      tags:
        - User Account
      summary: Register a new user by email. System creates an user wallet and a corresponding private, public key.
      description: |
        For Account creation step 1.

        timestamp - int64 - account creation date<br>
        deviceId - string - Your device MAC address<br>
        email - int64 - string for account creation date<br>
        loginAddress - string - Mac Address date<br>
        signature - string - signature hashed value of (timestamp, deviceId, loginAdress)<br>
        publicKey - string - public key for the RSA algorithm
      operationId: registerByEmail
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                      default: 1624611931727
                    deviceId:
                      type: string
                      description: Device ID
                      default: "6030d8e4-d594-11eb-b8bc-0242ac130003"
                    email:
                      type: string
                      description: Unique login email for verification
                      format: "abc@email.com"
                    loginAddress:
                      type: string
                      description: Login Address.
                      minimum: 3
                      maximum: 20
                      default: "00:0a:95:9d:68:16"
                    signature:
                      type: string
                      description: signature hashed value of (timestamp, deviceId, loginAdress).
                      default:
                        MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCclOmZ4m9V+G43b23GgEjerU54NrAz8qiVG5apbg2ff+Hw/Zq8JpjO0M9NaJ74KscVbL4drR0LL4MRd58ce/MN5rUIXl6V7dNtQ5KARuIr6GesY96BhH2o4SHzk6SQTTcLHM2Ysvu83Qptzaylc77Myi9ShkdwJqlC0rOenfaFmwIDAQAB
                    publicKey:
                      type: string
                      description: publicKey of the .
                      # description: Login password.
                      # minimum: 5
                      # maximum: 20
                      default: |
                        MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCG/qcshFiSSkGTP7g2Lr5JcNJA
                        J+XIR5SMKTXWVb5btg1IUnoOuicHCgrSjhIG/owzWLoEXFSpFc+6N0zx4iMJVb3T
                        wct/355Vs/xEGUO3VucnyCBrvuv8sOWC8Pban2XF6sjOX3+f4Gvil5AbvCwsjK9J
                        xX0tSQhbiQLNhznNGwIDAQAB
              required:
                - email
                - loginAddress
                - signature

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"
  
  /user/verification:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      description: |
        For account creation step 2. After registeration, need to verify the code from email

        Prerequisite: use token from registration (ie: /user/registerByEmail) in Authorization
      tags:
        - User Account
      summary:
        verify user
      operationId: verification
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                        code:
                          type: string
                          description: verification code
                        email:
                          type: string
                          description: user login email
              required:
                - code

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                - $ref: "#/components/schemas/GeneralResponse"
                - type: object
                  properties:
                    data:
                      type: object
                      properties:
                        userId:
                          type: integer
                          format: int32
                          description: user id
                        email:
                          type: string
                          format: string
                          description: user email
                        mnemonic:
                          type: string
                          description: encrypted mnemonic phrase   
                        token:
                          type: string
                          description: Login token

  /user/setupPaymentWallet:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      description: |
        For account creation step 3. After code verification, need to generate wallet address
      tags:
        - User Account
      summary:
        after user successfully verified, generate a owner wallet address call this endpoint
      operationId: verificationCallback
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    userId:
                      type: integer
                      format: int32
                      description: user id
                    address:
                      type: string
                      description: owner wallet address
                    signature:
                      type: string
                      description: owner wallet signature (wallet_address, timestamp)
                    os:
                      type: string
                      description: Device OS version
                    appVersion:
                      type: string
                      description: App Version
                    registrationSource:
                      type: string
                      description: Registration Source

              required:
                - userId
                - address
                - signature
                - os
                - appVersion
                - registrationSource
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"

  /user/resendVerificationEmail:
    post:
      description: |
        For account creation step 2. After registration, need to verify the code from email. If verification is not received in the email, user can use this to send the code to email again.
      tags:
        - User Account
      summary:
        self explanatory
      operationId: resend
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    userId:
                      type: integer
                      format: int32
                      description: user id
              required:
                - userId

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"

  /user/importWallet:
    post:
      description: |
        For account creation step 3. After code verification, user can import own wallet.
      tags:
        - User Account
      summary: Import an existing MetaMask or similar wallet into Eurus
      operationId: importWallet
      requestBody:
        description: List of user object
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                    walletAddress:
                      type: string
                      format: address
                      description: Wallet address to be imported
                    publicKey:
                      type: string
                      description: Wallet public key in hex string (little endian)
                    deviceId:
                      type: string
                      description: Device ID
                    sign:
                      type: string
                      format: hex
                      description: >
                        Signature in hex format. The signature is sign by Keccak256 hash a base string of key and value pairs x=y concaten by '&'; which consists of the following components in sequence:
                        * deviceId
                        * timestamp 
                      os:
                        type: string
                        description: Device OS version
                      appVersion:
                        type: string
                        description: App Version
                      registrationSource:
                        type: string
                        description: Registration Source
              required:
                - deviceId
                - timestamp
                - walletAddress
                - publicKey
                - sign
                - os
                - appVersion
                - registrationSource

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
                          lastLoginTime:
                            type: string
                            format: date-time
                            description: Last login time
                          status:
                            type: integer
                            description: Account status

  /user/loginByPassword:
    post:
      description: |
        Not impelemented
      tags:
        - User Account
      summary: User uses password to request login token
      operationId: loginByPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Login username
                    password:
                      type: string
                      description: Login password
                  required:
                    - username
                    - password
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
                          lastLoginTime:
                            type: string
                            format: date-time
                            description: Last login time
                          status:
                            type: integer
                            description: Account status

  /user/loginBySignature:
    post:
      description: |
        Retrieve login token by authenticating signature
      tags:
        - User Account
      summary: For MetaMask user to login system by sign a request by user owned private key
      operationId: loginBySignature
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                    walletAddress:
                      type: string
                      format: address
                      description: Wallet address
                    publicKey:
                      type: string
                      format: string
                      description: ECDSA public key in hex string (little endian)
                    deviceId:
                      type: string
                      description: Device ID
                    sign:
                      type: string
                      format: hex string
                      description: >
                        Signature in hex format. The signature is sign by Keccak256 hash a base string of key and value pairs x=y concaten by '&'; which consists of the following components in sequence:
                          * deviceId
                          * timestamp 
                          * walletAddress
                    os:
                      type: string
                      description: Device OS version
                    appVersion:
                      type: string
                      description: App Version
                    registrationSource:
                      type: string
                      description: Registration Source

                  required:
                    - deviceId
                    - timestamp
                    - walletAddress
                    - publicKey
                    - sign
                    - os
                    - appVersion
                    - recentTransaction
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
                          lastLoginTime:
                            type: string
                            format: date-time
                            description: Last login time
                          status:
                            type: integer
                            description: Account status

  /user/refreshToken:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Account
      summary: Extend Login token expiry time if the token is not expired
      operationId: refershToken
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
  /user/signTransaction:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Transaction
      summary: Sign transaction that invoke UserWallet smart contract
      operationId: signTransaction
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                        value:
                          type: string
                          description: Send value in number string, can be empty string if no value send
                        gasPrice:
                          type: integer
                          format: int64
                          description: Gas price
                        inputFunction:
                          type: string
                          format: hex string
                          description: Function call with method ID and input argument , by ABI encode byte array
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          signedTx:
                            type: string
                            description: hex string
  /user/clientVersion:
    get:
      tags:
        - User Others
      summary: Get the latest client version
      operationId: clientVersion

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        items:
                          properties:
                            iPhoneMinimumVersion:
                              type: string
                              description: iPhone minimum supported version

                            androidMinimumVersion:
                              type: string
                              description: Android minimum version number
  /user/serverConfig:
    get:
      tags:
        - User Others
      summary: Get the system server config
      operationId: serverConfig
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          properties:
                            eurusRPCDomain:
                              type: string
                              format: Eurus RPC Domain
                              description: Eurus RPC domain name
                            eurusRPCPort:
                              type: integer
                              format: int32
                              description: Eurus RPC port
                            eurusChainId:
                              type: integer
                              format: int32
                              description: Eurus chain ID
                            mainnetRPCDomain:
                              type: string
                              format: Eurus RPC Domain
                              description: mainnet/rinkeby RPC domain name
                            mainnetRPCPort:
                              type: integer
                              format: int32
                              description: mainnet/rinkeby RPC port
                            mainnetChainId:
                              type: integer
                              format: int32
                              description: mainnet/rinkeby chain ID
                            externalSmartContractAddress:
                              type: string
                              format: address
                              description: Eurus external smart contract config address
                            eurusInternalConfigAddress:
                              type: string
                              format: address
                              description: mainnet/rinkeby smart contract config
                            
  /user/details:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    get:
      tags:
        - User Account
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          username:
                            type: string
                            description: User name
                          email:
                            type: string
                            format: email
                            description: Email
                          isMetaMask:
                            type: boolean
                            description: Is MetaMask account
                          kycStatus:
                            type: integer
                            description: KYC status
                          wallet_address:
                            type: string
                            format: address
                            description: Eurus wallet address
                          mainnet_wallet_address:
                            type: string
                            format: address
                            description: Mainnet wallet address
                          status:
                            type: integer
                            description: Account status
                        required:
                          - username
                          - email
                          - isMetaMask

  /user/storage:
 
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    get:
      summary: Get the storage data in DB
      tags:
        - User Others
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                      platform:
                        type: integer
                        description: Mobile App or Mobile
                  required:
                    - platform
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          userId:
                            type: integer
                            description: user id
                          platform:
                            type: integer
                            description: Mobile App or Mobile
                          storage:
                            type: string
                            description : Store in Db records
                          sequence:
                            type: integer
                            description: Change time
                  
                        required:
                          - platform
    post:
      tags:
        - User Others
      summary: Set/Update the storage data in DB
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                        userId:
                          type: integer
                          description: user id
                        platform:
                          type: integer
                          description: Mobile App or Mobile
                        storage:
                          type: string
                          description : Store in Db records
                        sequence:
                          type: integer
                          description: Change time
                  required:
                    - userId
                    - platform
                    - storage
                    - sequence
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          sequence:
                            type: integer
                            description: change times
                  
                        required:
                          - sequence

  /user/friend:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Contact
      summary: Add friend
      operationId: addFriend
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                    email:
                      type: string
                      description: friend email
                    username:
                      type: string
                      description: friend username
                    walletAddress:
                      type: string
                      format: address
                      description: friend wallet address
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    get:
      tags:
        - User Contact
      summary: Get friend list
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            walletAddress:
                              type: string
                              description: Friend wallet address
                            username:
                              type: string
                              description: Friend username (maybe empty)
                            email:
                              type: string
                              format: email
                              description: Friend email
                            nickName:
                              type: string
                              description: Nick name
  /user/friend/{walletAddress}:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
      - in: path
        name: walletAddress
        description: Friend wallet address
        schema:
          type: string
        required: true
    put:
      tags:
        - User Contact
      summary: Update friend nick name
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    nickName:
                      type: string
                      description: Friend nick name
                  required:
                    - nickName
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    delete:
      tags:
        - User Contact
      summary: Delete a friend
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /user/changeLoginPassword:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Account
      summary: Change login password
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldLoginAddress:
                      type: string
                    loginAddress:
                      type: string
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                    deviceId:
                      type: string
                      description: Device ID
                    sign:
                      type: string
                      description: signature.
                    oldSign:
                      type: string
                      description: old signature.
                    publicKey:
                      type: string
                      description: public key, in uncompressed format (66 bytes)
                    oldPublicKey:
                      type: string
                      description: old public key, in uncompressed format (66 bytes)
                  required:
                  #   - oldPassword
                  #   - newPassword
                    - oldLoginAddress
                    - loginAddress
                    - timestamp
                    - deviceId
                    - sign
                    - oldSign
                    - publicKey
                    - oldPublicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /user/changePaymentPassword:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Account
      summary: Change payment password
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldOwnerWalletAddress:
                      type: string
                    ownerWalletAddress:
                      type: string
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                    deviceId:
                      type: string
                      description: Device ID
                    sign:
                      type: string
                      description: signature.
                    oldSign:
                      type: string
                      description: old signature.
                    publicKey:
                      type: string
                      description: public key, in uncompressed format (66 bytes)
                    oldPublicKey:
                      type: string
                      description: old public key, in uncompressed format (66 bytes)
                  required:
                  #   - oldPassword
                  #   - newPassword
                    - oldOwnerWalletAddress
                    - ownerWalletAddress
                    - timestamp
                    - deviceId
                    - sign
                    - oldSign
                    - publicKey
                    - oldPublicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /user/registerDevice:
    post:
      tags:
        - User Account
      summary: Register a device for an user
      operationId: registerDevice
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    deviceId:
                      type: string
                      description: Device ID
                    enableBioMetric:
                      type: boolean
                      description: Enable biometric verification
                  required:
                    - deviceId
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /user/recentTransaction:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Trascation
      summary: lastest user transaction records for last n days
      operationId: recentTransaction
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    currencySymbol:
                      type: string

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          decimal:
                            type: integer
                            format: int32
                            description: Amount decimal point
                          transList:
                            type: array
                            items:
                              anyOf:
                                - type: object
                                  properties:
                                    transType:
                                      type: integer
                                      format: int32
                                      description: transaction type (1 => transfer, 2 => deposit, 3 => withdraw)
                                    transDate:
                                      type: integer
                                      format: int64
                                      description: transaction date time in UNIX timestamp
                                    txHash:
                                      type: string
                                      description: transaction hash
                                    status:
                                      type: integer
                                      format: int32
                                      description: transaction status (10 => waiting from confirmation (for centralized user only); 50 => transferred; -10 => error submitting (for centralized user only); -50 => error confirming)
                                    remarks:
                                      type: string
                                      description: error message if the transaction is failed
                                    isSend:
                                      type: boolean
                                      description: true => transaction send to others
                                    fromAddress:
                                      type: string
                                      format: address
                                      description: Source wallet address
                                    toAddress:
                                      type: string
                                      format: address
                                      description: Destination address
                                    amount:
                                      type: integer
                                      format: int64
                                      description: Transfer amount
                                    gasUsed:
                                      type: integer
                                      format: int64
                                      description: Gas used by user
                                    gasPrice:
                                      type: integer
                                      format: int64
                                      description: Gas price
                                - type: object
                                  properties:
                                    transType:
                                      type: integer
                                      format: int32
                                      description: transaction type (2 => deposit)
                                    amount:
                                      type: integer
                                      format: int64
                                      description: Deposit amount
                                    status:
                                      type: integer
                                      format: int32
                                      description: Deposit status
                                        DepositError = - (status),
                                        DepositReceiptCollected = 10,
                                        DepositAssetCollected = 20,
                                        DepositMintConfirming = 30,
                                        DepositCompleted = 40,
                                    fromAddress:
                                      type: string
                                      format: address
                                      description: Deposit source address
                                    toAddress:
                                      type: string
                                      format: address
                                      description: to address at mainnet
                                    destAddress:
                                      type: string
                                      format: address
                                      description: target address at sidechain
                                    chainLocation:
                                      type: integer
                                      format: int32
                                      description: chain location for the txHash ( 1 - sidechain , 2 - mainnet)
                                    txHash:
                                      type: string
                                      description: Transaction hash
                                    mintTransId:
                                      type: integer
                                      format: int64
                                      description: Mint transId (Optional) only exist at state 2, 3
                                    remarks:
                                      type: string
                                      description: Error description (Optional) only exists at state -1
                                    transDate:
                                      type: integer
                                      format: int64
                                      description: trans date
                                    depositTxHash:
                                      type: string
                                      description: Identifier of deposit transaction
                                - type: object
                                  properties:
                                    transType:
                                      type: integer
                                      format: int32
                                      description: transaction type (3 => withdraw)
                                    status:
                                      type: integer
                                      format: int32
                                      description: Withdraw status
                                        StatusError WithdrawStatus =  - (status)
                                        StatusPendingApproval = 10
                                        StatusApproved = 20
                                        StatusRejected = 30
                                        StatusBurnConfirming = 40
                                        StatusBurned = 50
                                        StatusCompleted = 60
                                    fromAddress:
                                      type: string
                                      format: address
                                      description: Side chain source address
                                    toAddress:
                                      type: string
                                      format: address
                                      description: Side chain destination address
                                    targetAddress:
                                      type: string
                                      format: address
                                      description: Mainnet destination address
                                    chainLocation:
                                      type: integer
                                      format: int32
                                      description: txHash chain location ( 1 - sidechain , 2 - mainnet)
                                    txHash:
                                      type: string
                                      description: Transaction hash
                                    requestTransId:
                                      type: integer
                                      format: int64
                                      description: Withdraw request transId (Optional) exists at state 0, 1, 2
                                    burnTransId:
                                      type: integer
                                      format: int64
                                      description: Burn transid (Optional) exists at state 3, 4
                                    remarks:
                                      type: string
                                      description: Error description (Optional) only exists at state -1
                                    transDate:
                                      type: integer
                                      format: int64
                                      description: trans date
                                    withdrawTxHash:
                                      type: string
                                      description: Identifier of withdraw transaction
  /user/withdrawAdminFee/{currencySymbol}:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
      - in: path
        name: currencySymbol
        description: Currency name
        schema:
          type: string
        required: true
    get:
      tags:
        - User Trascation
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          currency:
                            type: string
                            description: Currency name
                          fee:
                            type: integer
                            format: int64
                            description: Withdraw fee
                          decimal:
                            type: integer
                            format: int32
                            description: Withdraw fee decimal
                        required:
                          - currency
                          - fee
                          - decimal


  /user/forgetLoginPassword:
    post:
      tags:
        - User Account
      summary:
        forget login address
      operationId: forgetLoginAddress
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    email:
                      type: string
                  required:
                    - email
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"


  /user/verifyForgetLoginPassword:
    post:
      tags:
        - User Account
      summary: verify forget login password token
      operationId: verify forget login password token
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                    userId:
                      type: integer
                      description: user id
                    code:
                      type: string
                      description: verification code
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        properties:
                          token:
                            type: string
                            description: reset login password Token

  /user/resetLoginPassword:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Account
      summary: reset login password
      operationId: resetLoginPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                          timestamp:
                            type: integer
                            format: int32
                            description: Current unix timestamp
                          deviceId:
                            type: string
                            description: Device ID
                          loginAddress:
                            type: string
                            description: Login Address.
                            minimum: 3
                            maximum: 20
                          sign:
                            type: string
                            description: signature.
                          publicKey:
                            type: string
                            description: publicKey.
                  required:
                          - timestamp
                          - deviceId
                          - loginAddress
                          - sign
                          - publicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
  
  /user/forgetPaymentPassword:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Account
      summary:
        forget payment address
      operationId: forgetPaymentAddress
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"


  /user/verifyForgetPaymentPassword:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Account
      summary: verify forget login password token
      operationId: verify forget login password token
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                    code:
                      type: string
                      description: verification code
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        properties:
                          token:
                            type: string
                            description: reset payment password Token

  /user/resetPaymentPassword:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - User Account
      summary: reset login password
      operationId: resetLoginPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                          timestamp:
                            type: integer
                            format: int32
                            description: Current unix timestamp
                          deviceId:
                            type: string
                            description: Device ID
                          ownerWalletAddress:
                            type: string
                            description: ownerWalletAddress.
                            minimum: 3
                            maximum: 20
                          sign:
                            type: string
                            description: signature.
                          publicKey:
                            type: string
                            description: publicKey.
                  required:
                          - timestamp
                          - deviceId
                          - ownerWalletAddress
                          - sign
                          - publicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
  
  ###################################################################################

  /admin/login:
    post:
      tags:
        - admin
      summary: Admin login
      operationId: adminLogin
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Admin username
                    password:
                      type: string
                      format: password
                      description: Hashed Admin password
                  required:
                    - username
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          loginToken:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry timestamp

  /admin/merchant:
    post:
      tags:
        - admin
      summary: Create a merchant account. Merchant need to change his username and password when first login the system
      operationId: createMerchant
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Merchant user name
                    password:
                      type: string
                      description: First time password
                    email:
                      type: string
                      description: Admin email
                    merchantName:
                      type: string
                      description: Merchant name
                    callbackUrl:
                      type: string
                      format: url
                      description: Merchant callback URL
                  required:
                    - username
                    - merchantName
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          merchantId:
                            type: integer
                            format: int64
                            description: Merchant Id
                        required:
                          - merchantId
    get:
      tags:
        - admin
      summary: Query merchant list
      operationId: merchantList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            merchantId:
                              type: integer
                              format: int64
                              description: Merchant id
                            merchantName:
                              type: string
                              description: Merchant name
                          required:
                            - merchantId
                            - merchantName

  /admin/merchant/{merchantId}:
    get:
      tags:
        - admin
      summary: Merchant details
      operationId: merchantDetails
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: merchantId
          description: Merchant Id
          schema:
            type: integer
          in: path
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          merchantName:
                            type: string
                            description: Merchant name
                          walletAddress:
                            type: string
                            format: address
                            description: Merchant Eurus wallet address
                          hotWalletAddress:
                            type: string
                            format: address
                            description: Merchant mainnet wallet address
                          callbackUrl:
                            type: string
                            format: url
                            description: callback url
                          updatedBy:
                            type: string
                            description: updated by
                          merchantAdminList:
                            type: array
                            items:
                              $ref: "#/components/schemas/MerchantAdmin"

  /admin/subAdmin:
    post:
      tags:
        - admin
      summary: Create a subadmin account.
      operationId: createSubAdmin
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Admin username
                    password:
                      type: string
                      format: password
                      description: Password
                    roleList:
                      type: array
                      items:
                        type: integer
                        description: role ID
                  required:
                    - username
                    - password
                    - roleList

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    get:
      tags:
        - admin
      summary: Get sub admin account list.
      operationId: subAdminList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            adminId:
                              type: integer
                              format: int64
                              description: Admin ID
                            username:
                              type: string
                              description: Admin username
                            roleList:
                              type: array
                              description: Role list
                              items:
                                type: integer
                                description: Role ID

  /admin/subAdmin/{adminId}:
    delete:
      summary: Delete sub admin account (Cannot delete self sub admin account nor master admin account)
      tags:
        - admin
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: adminId
          schema:
            type: integer
          in: path
          description: Admin ID
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/subAdmin/role/{adminId}:
    put:
      tags:
        - admin
      summary: Update sub admin account roles (Cannot update self sub admin account).
      operationId: subAdminList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: adminId
          in: path
          schema:
            type: integer
          required: true
          description: Admin ID
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    password:
                      type: string
                      format: password
                      description: Password
                    roleList:
                      type: array
                      items:
                        type: integer
                        description: role ID
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/subAdmin/password/{adminId}:
    put:
      tags:
        - admin
      summary: Update sub admin account password.
      operationId: subAdminList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: adminId
          in: path
          schema:
            type: integer
          description: If adminId = 0, update self password
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldPassword:
                      type: string
                      format: password
                      description: If adminId = 0, this is the old password; otherwise, no need to send this field
                    password:
                      type: string
                      format: password
                      description: New password
                  required:
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/subAdmin/status/{adminId}:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
      - name: adminId
        in: path
        schema:
          type: integer
        required: true
    put:
      tags:
        - admin
      summary: Update sub admin account status (Cannot update self account nor master admin account)
      operationId: subAdminList
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    status:
                      type: integer
                      format: int32
                      description: 0 - disabled; 1 -  enabled
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/permission:
    get:
      tags:
        - admin
      summary: Get permission list
      operationId: permission
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Permission"
  /admin/role:
    get:
      tags:
        - admin
      summary: Get role list
      operationId: roleList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            roleId:
                              type: integer
                              format: int64
                              description: Role ID
                            roleName:
                              type: string
                              description: Role name
  /admin/role/{roleId}:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
      - name: roleId
        in: path
        schema:
          type: integer
          format: int64
        description: Role ID
        required: true
    get:
      tags:
        - admin
      summary: Get role details
      operationId: role
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          roleId:
                            type: integer
                            format: int64
                            description: Role ID
                          roleName:
                            type: string
                            description: Role name
                          description:
                            type: string
                            description: Role description
                          createdBy:
                            type: string
                            description: Create by
                          permissionList:
                            type: array
                            items:
                              type: integer
                              format: int64
                              description: Permission ID for this role

    put:
      tags:
        - admin
      summary: Update a role permission
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    roleId:
                      type: integer
                      format: int64
                      description: Role ID
                    roleName:
                      type: string
                      description: Role name
                    permissionList:
                      type: array
                      items:
                        type: integer
                        format: int64
                        description: Permission ID to updated. Empty list means no permission for this role
                  required:
                    - roleId
                    - permissionList
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    delete:
      tags:
        - admin
      summary: Delete a role
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/pendingWithdraw:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    get:
      tags:
        - admin
      summary: Query pending withdraw list
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: array
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            pendingId:
                              type: integer
                              format: int64
                              description: Pending queue Id
                            merchantId:
                              type: integer
                              description: Merchant Id
                            merchantName:
                              type: string
                              description: merchant name
                            fromWalletAddress:
                              type: string
                              description: Merchant Eurus wallet address
                            targetWalletAddress:
                              type: string
                              description: Merchant Mainnet wallet address
                            createDate:
                              type: string
                              format: date-time
                              description: Create date in UTC 0
                            status:
                              type: integer
                              description: Current status
  /admin/pendingWithdraw/{pendingWithdrawId}:
    put:
      tags:
        - admin
      summary: Approve or reject a withdraw request
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: path
          name: pendingWithdrawId
          description: Pending withdraw ID
          schema:
            type: integer
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    answer:
                      type: integer
                      description: 1 - approve, 2 - reject
                  required:
                    - answer
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/pendingWithdrawHistory:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    get:
      tags:
        - admin
      summary: Query pending approval history
      parameters:
        - in: query
          name: startDate
          description: Start date in UTC 0 inclusively
          schema:
            type: string
          required: true
        - in: query
          name: endDate
          description: End date in UTC 0 inclusively
          schema:
            type: string
          required: true
        - in: query
          name: merchantId
          description: Merchant Id
          schema:
            type: integer
          required: false
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/pendingConfirmAPISetting:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    get:
      tags:
        - admin
      summary: Query pending confirm API setting list
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          properties:
                            pendingConfigId:
                              type: integer
                              format: int64
                            withdrawConfirmUrl:
                              type: string
                              format: url
                            transferConfirmUrl:
                              type: string
                              format: url
                            ipList:
                              type: array
                              items:
                                type: string
                                description: IP":"port
                            merchantId:
                              type: integer
                              format: int64
                            submittedUser:
                              type: string
                              description: Merchant admin username
                            status:
                              type: integer
                              description: Pending status
                            createDate:
                              type: string
                              format: date-time
                              description: Create date time in UTC 0
                            lastModifiedDate:
                              type: string
                              format: date-time
                              description: Last update time
                            adminUser:
                              type: string
                              description: Approve or rejected by

  /admin/pendingConfirmAPISetting/{pendingId}:
    put:
      tags:
        - admin
      summary: Query pending confirm API setting list
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: path
          name: pendingId
          description: Pending ID for update
          schema:
            type: integer
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'   
  /admin/server/list:
    get:
      tags:
        - admin
      summary: Query server list
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true      
      responses:        
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object 
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            serverId:
                              type: integer
                              description: Server Id
                            serverName:
                              type: string
                              description: Server name
                            address:
                              type: string
                              format: hex
                              description: Server address
                            eunBalance:
                              type: integer
                              description: EUN balance
                            eunDecimal:
                              type: integer
                              description: EUN decimal
                            ethBalance:
                              type: integer
                              description: ETH balance
                            ethDecimal:
                              type: integer
                              description: ETH decimal
  /admin/fee/withdrawalFee:
    get:
      tags:
        - admin
      summary: Query withraw admin fee 
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true        
      responses:        
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object 
                    properties:
                       data:
                        type: array
                        items:
                          type: object
                          properties:
                              currencyName:
                                type: string
                                description: Currency name
                              amount:
                                type: integer
                                format: int64
                              decimal:
                                type: integer
                                format: int32
    post:
      summary: Update withdraw fee in ETH
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          'application/json':
            schema:
              allOf:
                - $ref: '#/components/schemas/GeneralRequest'
                - type: object
      responses:        
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'

  /merchant/login:
    post:
      tags:
        - merchant
      summary: Merchant admin login
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    merchantId:
                      type: integer
                      description: Merchant ID
                    username:
                      type: string
                      description: Merchant username
                    password:
                      type: string
                      format: password
                      description: Password hash
                  required:
                    - merchantId
                    - username
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          loginToken:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry timestamp
  /merchant/initalizeWallet:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
    post:
      tags:
        - merchant
      summary: Initialize merchant wallet
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    walletWorkflowType:
                      type: integer
                      description: TBC
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          walletAddress:
                            type: string
                            description: Eurus wallet address
                          hotWalletAddress:
                            type: string
                            description: Mainnet hot wallet address
  /merchant/subAdmin:
    post:
      tags:
        - merchant
      summary: Create a merchant subadmin account.
      operationId: createMerchantSubAdmin
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Merchant admin username
                    loginPassword:
                      type: string
                      format: password
                      description: Login password
                    walletPassword:
                      type: string
                      format: password
                      description: Wallet password
                    email:
                      type: string
                      format: email
                      description: Email
                    roleList:
                      type: array
                      items:
                        type: integer
                        description: role ID
                  required:
                    - username
                    - loginPassword
                    - walletPassword
                    - roleList

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    get:
      tags:
        - merchant
      summary: Get merchant sub admin account list.
      operationId: merchantSubAdminList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            adminId:
                              type: integer
                              format: int64
                              description: Admin ID
                            username:
                              type: string
                              description: Admin username
                            roleList:
                              type: array
                              description: Role list
                              items:
                                type: integer
                                description: Role ID

  /merchant/subAdmin/{merchantAdminId}:
    delete:
      summary: Delete merchant sub admin account (Cannot delete self sub admin account nor master admin account)
      tags:
        - merchant
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: merchantAdminId
          schema:
            type: integer
          in: path
          description: Merchant admin ID
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /merchant/subAdmin/password/{merchantAdminId}:
    put:
      tags:
        - merchant
      summary: Update merchant sub admin account password.
      operationId: subAdminList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: merchantAdminId
          in: path
          schema:
            type: integer
          description: If merchantAdminId = 0, update self password
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldPassword:
                      type: string
                      format: password
                      description: If adminId = 0, this is the old password; otherwise, no need to send this field
                    password:
                      type: string
                      format: password
                      description: New password
                  required:
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /merchant/subAdmin/status/{merchantAdminId}:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
      - name: merchantAdminId
        in: path
        schema:
          type: integer
        required: true
    put:
      tags:
        - merchant
      summary: Update merchant sub admin account status (Cannot update self account nor master admin account)
      operationId: subAdminList
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    status:
                      type: integer
                      format: int32
                      description: 0 - disabled; 1 -  enabled
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /merchant/permission:
    get:
      tags:
        - merchant
      summary: Get permission list
      operationId: permission
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Permission"
  /merchant/role:
    get:
      tags:
        - merchant
      summary: Get role list
      operationId: roleList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            roleId:
                              type: integer
                              format: int64
                              description: Role ID
                            roleName:
                              type: string
                              description: Role name
  /merchant/role/{roleId}:
    parameters:
      - in: header
        name: Authorization
        description: Login token
        schema:
          type: string
        required: true
      - name: roleId
        in: path
        schema:
          type: integer
          format: int64
        description: Role ID
        required: true
    get:
      tags:
        - merchant
      summary: Get role details
      operationId: role
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          roleId:
                            type: integer
                            format: int64
                            description: Role ID
                          roleName:
                            type: string
                            description: Role name
                          description:
                            type: string
                            description: Role description
                          createdBy:
                            type: string
                            description: Create by
                          permissionList:
                            type: array
                            items:
                              type: integer
                              format: int64
                              description: Permission ID for this role

    put:
      tags:
        - merchant
      summary: Update a role permission
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    roleId:
                      type: integer
                      format: int64
                      description: Role ID
                    roleName:
                      type: string
                      description: Role name
                    permissionList:
                      type: array
                      items:
                        type: integer
                        format: int64
                        description: Permission ID to updated. Empty list means no permission for this role
                  required:
                    - roleId
                    - permissionList
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    delete:
      tags:
        - merchant
      summary: Delete a role
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /merchant/transfer:
    post:
      tags:
        - merchant
      summary: Transfer to another Eurus address (this API does not support transfer to mainnet address)
      requestBody:
        content:
          "application/json":
            schema:
              type: object
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    walletPassword:
                      type: string
                      format: password
                      description: Wallet password
                    toAddress:
                      type: string
                      description: Eurus target address
                    amount:
                      type: string
                      description: Amount to transfer * 1000000000
                    assetName:
                      type: string
                      description: Asset to transfer
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          needApproval:
                            type: boolean
                            description: Transfer is waiting for approval
  /merchant/withdraw:
    post:
      tags:
        - merchant
      summary: Withdraw money from Eurus wallet to mainnet wallet
      requestBody:
        content:
          "application/json":
            schema:
              type: object
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    walletPassword:
                      type: string
                      format: password
                      description: Wallet password
                    amount:
                      type: string
                      description: Amount to transfer * 1000000000
                    assetName:
                      type: string
                      description: Asset to transfer
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          needApproval:
                            type: boolean
                            description: Transfer is waiting for approval

  /testnet/asset/faucet:
    get:
      tags:
      - testnet
      summary: Get faucet currency config
      responses:
        200:
          description: Successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          properties:
                            assetName:
                              type: string
                              description: Asset name
                            decimal:
                              type: number
                              format: int32
                              description: Number of decimal
                            amount:
                              type: number
                              format: int64
                              description: Amount faucet every time
                            dateInterval:
                              type: number
                              format: int32
                              description: Number of faucet day interval

    post:
      tags:
      - testnet
      summary: Faucet certain currency to target wallet address at Rinkeby
      requestBody:
        content:
          'application/json':
            schema:
              type: object
              allOf: 
                - $ref: '#/components/schemas/GeneralRequest'
                - type: object
                  properties:
                    assetName:
                      type: string
                      description: Asset to transfer
                    destAddress:
                      type: string
                      format: hex
                      description: Faucet destination address (with 0x prefix)
      responses:
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:  
                          txHash:
                            type: string
                            format: hex
                            description: Transaction hash waiting for confirmation
                          status:
                            type: number
                            format: int32
                            description: Processing status - 1 = transaction created, 2 = waiting for confirmation, 3 = facet already today, try again later

components:
  schemas:
    GeneralRequest:
      type: object
      properties:
        #nonce:
        #  type: string
        #  format: uuid
        #  description: Request nonce
      required:
        #- nonce

    GeneralResponse:
      type: object
      properties:
        nonce:
          type: string
          format: uuid
          description: Request nonce
        returnCode:
          type: integer
          description: Server return code - Reference to ServerReturnCode
        message:
          type: string
          description: Server returns message
        data:
          type: object
          description: Resquest specific response
    Permission:
      type: object
      properties:
        permissionId:
          type: integer
          format: int64
          description: Permission ID
        permissionName:
          type: string
          description: Permission name
        childList:
          type: array
          description: Child permission list
          items:
            type: object
            $ref: "#/components/schemas/Permission"
            description: child permission
      required:
        - permissionId
        - permissionName
    MerchantDetails:
      type: object
      properties:
        merchantName:
          type: string
          description: Merchant name
        walletAddress:
          type: string
          format: address
          description: Merchant Eurus wallet address
        hotWalletAddress:
          type: string
          format: address
          description: Merchant mainnet wallet address
        callbackUrl:
          type: string
          format: url
          description: callback url
        updatedBy:
          type: string
          description: updated by

    MerchantAdmin:
      type: object
      properties:
        username:
          type: string
          description: Merchant user name
        email:
          type: string
          format: email
          description: Merchant admin email
        status:
          type: integer
          format: int32
          description: Admin account state
        createDate:
          type: string
          format: date-time
          description: Create date
        lastModifiedDate:
          type: string
          format: date-time
          description: Last modified date
    ServerReturnCode:
      type: integer
      enum:
        - 0: Success
          1: Not Found
          2: Already exists
          3: Validation failed
          4: Invalid signature
          5: Login expired
          6: Invalid login token
          7: Permission denied
          100000: Database error begins

    CurrencySymbol:
      type: array
      description: Currency Symbol
      items:
        type: string
        description: Currency symbol of ERC20 assets

  securitySchemes:
    petstore_auth:
      type: oauth2
      flows:
        implicit:
          authorizationUrl: http://petstore.swagger.io/oauth/dialog
          scopes:
            write:pets: modify pets in your account
            read:pets: read your pets
    api_key:
      type: apiKey
      name: api_key
      in: header
