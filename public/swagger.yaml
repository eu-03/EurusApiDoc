openapi: 3.0.1
info:
  title: Eurus API Reference
  description: |
    FAQ
    1. Where to get authorization token?

        You can use either /user/registerByEmail or /user/loginBySignature to retrieve the authorize token

    2. I have used the authorization token in the header parameter, why doesn't it work?

        Authorization token in the header parameter is dummy variable (swagger issue), please use the top right "Authorize" and input your token.
  version: 0.1.16
  termsOfService: https://Eurus/terms/
  contact:
    email: placeholder@18m.com
servers:
  - url: http://54.254.5.83:8082/
tags:
  - name: Centralized User Account
    description: User related service
  - name: Centralized User Transaction
    description: User related service
  - name: Centralized User Contact
    description: User related service
  - name: Centralized User Others
    description: User related service
  - name: Centralized Admin
    description: Admin management service
  - name: Centralized Merchant
    description: Merchant admin management service
  - name: Decentralized User Account
    description: User related service
  - name: Decentralized User Transaction
    description: User related service
  - name: Decentralized User Contact
    description: User related service
  - name: Decentralized User Others
    description: User related service

paths:
  /user/registerByEmail:
    post:
      tags:
        - Centralized User Account
      summary: Register a new user by email. System creates an user wallet and a corresponding private, public key.
      description: |
        For Account creation step 1.
      operationId: registerByEmail
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    nonce:
                      type: string
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                      default: 1625016367627
                    deviceId:
                      type: string
                      description: Device ID
                      default: "67e7508b-bb7c-48d9-b4cb-17f31efe9075"
                    email:
                      type: string
                      description: Unique login email for verification
                      default: "email@domain.com"
                    loginAddress:
                      type: string
                      description: Login Address.
                      minimum: 3
                      maximum: 20
                      default: "cefa6e58e3628372aae8ee288d933f5507ecd799"
                    signature:
                      type: string
                      description: signature hashed value of (timestamp, deviceId, loginAdress).
                      default:
                        6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
                    publicKey:
                      type: string
                      description: publicKey of the .
                      # description: Login password.
                      # minimum: 5
                      # maximum: 20
                      default:
                        03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
              required:
                - timestamp
                - deviceId
                - email
                - loginAddress
                - signature
                - publicKey

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                - $ref: "#/components/schemas/GeneralResponse"
                - type: object
                  properties:
                    data:
                      type: object
                      properties:
                        nonce:
                          type: string
                        userId:
                          type: integer
                          format: int32
                          description: user id
                        code:
                          type: string
                          description: Device ID
  
  /user/verification:
    post:
      description: |
        Prerequisite: use token from registration (ie: /user/registerByEmail) in Authorization
        
        For account creation step 2. After registeration, need to verify the code from email
      tags:
        - Centralized User Account
      summary:
        verify user
      operationId: registerVerification
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                        nonce:
                          type: string
                        code:
                          type: string
                          description: verification code
                          default: 545520
                        email:
                          type: string
                          description: user login email
                          default: email@domain.com
              required:
                - code

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                - $ref: "#/components/schemas/GeneralResponse"
                - type: object
                  properties:
                    data:
                      type: object
                      properties:
                        nonce:
                          type: string
                        userId:
                          type: integer
                          format: int32
                          description: user id
                        email:
                          type: string
                          format: string
                          description: user email
                        mnemonic:
                          type: string
                          description: encrypted mnemonic phrase   
                        token:
                          type: string
                          description: Login token
                        expiredTime:
                          type: integer
                          format: int32
                          description: Expiry time in int

  /user/setupPaymentWallet:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        For account creation step 3. After code verification, need to generate wallet address
      tags:
        - Centralized User Account
      summary:
        after user successfully verified, generate a owner wallet address call this endpoint
      operationId: setupPaymentWallet
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    nonce:
                      type: string
                    userId:
                      type: integer
                      format: int32
                      description: user id
                      default: 406
                    address:
                      type: string
                      description: owner wallet address
                      default: "5f4de6435350068a5675450bfa434d9f5bc9a06c"

              required:
                - nonce
                - userId
                - address
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                - $ref: "#/components/schemas/GeneralResponse"
                - type: object
                  properties:
                    walletAddress:
                      type: integer
                      format: int32
                      description: newly created wallet address
                    mainnetWalletAddress:
                      type: string
                      format: string
                      description: mainnet wallet address
                    isMetamaskAddr:
                      type: string
                      description: for metamask

  /user/resendVerificationEmail:
    post:
      description: |
        For account creation step 2. After registration, need to verify the code from email. If verification is not received in the email, user can use this to send the code to email again.
      tags:
        - Centralized User Account
      summary:
        self explanatory
      operationId: resendVerificationEmail
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    nonce:
                      type: string
                    userId:
                      type: integer
                      format: int32
                      description: user id
              required:
                - userId

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"

  /user/importWallet:
    post:
      description: |
        For account creation step 3. After code verification, user can import own wallet.
      tags:
        - Centralized User Account
      summary: Import an existing MetaMask or similar wallet into Eurus
      operationId: importWallet
      requestBody:
        description: List of user object
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                      default: 1625016367627
                    walletAddress:
                      type: string
                      format: address
                      description: Wallet address to be imported
                      default: 796b4492f26c4c1382029731903db2f47fe8fecd
                    publicKey:
                      type: string
                      description: Wallet public key in hex string (little endian)
                      default: 03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
                    deviceId:
                      type: string
                      description: Device ID
                      default: 67e7508b-bb7c-48d9-b4cb-17f31efe9075
                    sign:
                      type: string
                      format: hex
                      description: >
                        Signature in hex format. The signature is sign by Keccak256 hash a base string of key and value pairs x=y concaten by '&'; which consists of the following components in sequence:
                        * deviceId
                        * timestamp 
                      default: 6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
              required:
                - deviceId
                - timestamp
                - walletAddress
                - publicKey
                - sign
                - os
                - appVersion
                - registrationSource

        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
                          lastLoginTime:
                            type: string
                            format: date-time
                            description: Last login time
                          status:
                            type: integer
                            description: Account status

  /user/loginByPassword:
    post:
      deprecated: true
      description: |
        Not impelemented
      tags:
        - Centralized User Account
      summary: User uses password to request login token
      operationId: loginByPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Login username
                    password:
                      type: string
                      description: Login password
                  required:
                    - username
                    - password
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
                          lastLoginTime:
                            type: string
                            format: date-time
                            description: Last login time
                          status:
                            type: integer
                            description: Account status

  /user/loginBySignature:
    post:
      description: |
        Retrieve login token by authenticating signature
      tags:
        - Centralized User Account
        - Decentralized User Account
      summary: For MetaMask user to login system by sign a request by user owned private key
      operationId: loginBySignature
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                      default: 1625019678684
                    walletAddress:
                      type: string
                      format: address
                      description: Wallet address
                      default: "cefa6e58e3628372aae8ee288d933f5507ecd799"
                    publicKey:
                      type: string
                      format: string
                      description: ECDSA public key in hex string (little endian)
                      default: "03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891"
                    deviceId:
                      type: string
                      description: Device ID
                      default: "67e7508b-bb7c-48d9-b4cb-17f31efe9075"
                    sign:
                      type: string
                      format: hex string
                      description: >
                        Signature in hex format. The signature is sign by Keccak256 hash a base string of key and value pairs x=y concaten by '&'; which consists of the following components in sequence:
                          * deviceId
                          * timestamp 
                          * walletAddress
                      default: "26e722e217faceecb56e0ccfbf13c4e228f7c217e2e611088d31a8c19961b35d52858ff945a4fd23d07ffaf242b8062e7f45907454d1f6cc4b5349a6507014ae"

                  required:
                    - deviceId
                    - timestamp
                    - walletAddress
                    - publicKey
                    - sign
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
                          lastLoginTime:
                            type: string
                            format: date-time
                            description: Last login time
                          status:
                            type: integer
                            description: Account status

  /user/refreshToken:    
    post:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      security:
        - Authorization: []
      description: |
        Extend session time for login token
      tags:
        - Centralized User Account
      summary: Extend Login token expiry time if the token is not expired
      operationId: refershToken
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry time
  /user/signTransaction:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      tags:
        - Centralized User Transaction
      summary: Sign transaction that invoke UserWallet smart contract
      operationId: signTransaction
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                        value:
                          type: string
                          description: Send value in number string, can be empty string if no value send
                          default: 0
                        gasPrice:
                          type: integer
                          format: int64
                          description: Gas price
                          default: 2500000000
                        inputFunction:
                          type: string
                          format: hex string
                          description: Function call with method ID and input argument , by ABI encode byte array
                          default: 3c4cd9110000000000000000000000004dfb6d6790054f3eb68324bc230e3104137ca8db000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000455534454000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041a9aba64e1c1e6d308563a2372ec22fb4998ea932d99634fd9352de2efb898c5e0647c522279b4315fc793ec1ed1cd2aecf087a4dee7a675660f01618bbd18b371b00000000000000000000000000000000000000000000000000000000000000
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          signedTx:
                            type: string
                            description: hex string
  /user/clientVersion:
    get:
      tags:
        - Centralized User Others
      summary: Get the minimum support client version
      operationId: clientVersion

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        items:
                          properties:
                            iPhoneMinimumVersion:
                              type: string
                              description: iPhone minimum supported version

                            androidMinimumVersion:
                              type: string
                              description: Android minimum version number
  /user/serverConfig:
    get:
      description: Get the centralize server configuration informations
      tags:
        - Centralized User Others
      summary: Get the system server config
      operationId: serverConfig
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          properties:
                            eurusRPCDomain:
                              type: string
                              format: Eurus RPC Domain
                              description: Eurus RPC domain name
                            eurusRPCPort:
                              type: integer
                              format: int32
                              description: Eurus RPC port
                            eurusChainId:
                              type: integer
                              format: int32
                              description: Eurus chain ID
                            mainnetRPCDomain:
                              type: string
                              format: Eurus RPC Domain
                              description: mainnet/rinkeby RPC domain name
                            mainnetRPCPort:
                              type: integer
                              format: int32
                              description: mainnet/rinkeby RPC port
                            mainnetChainId:
                              type: integer
                              format: int32
                              description: mainnet/rinkeby chain ID
                            externalSmartContractAddress:
                              type: string
                              format: address
                              description: Eurus external smart contract config address
                            eurusInternalConfigAddress:
                              type: string
                              format: address
                              description: mainnet/rinkeby smart contract config
                            
  /user/details:
    get:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        retrieve the Centralized User Account details (ie: accounts, wallet, key)
      tags:
        - Centralized User Account
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          LastLoginTime:
                            type: string
                          Staqtus:
                            type: integer
                            description: Account status
                          LastModifiedDate:
                            type: string
                          username:
                            type: string
                            description: User name
                          CreatedDate:
                            type: string
                          Email:
                            type: string
                            format: email
                            description: Email
                          IsMetamaskAddr:
                            type: boolean
                            description: Is MetaMask account
                          KycStatus:
                            type: integer
                            description: KYC status
                          walletAddress:
                            type: string
                            format: address
                            description: Eurus wallet address
                          mainnetWalletAddress:
                            type: string
                            format: address
                            description: Mainnet wallet address
                          ownerWalletAddress:
                            type: string
                            format: address
                            description: Owner wallet address
                          ChangeLoginPasswordCount:
                            type: integer
                          ChangePaymentPasswordCount:
                            type: integer
  /user/storage:
    get:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      summary: Get the storage data in DB
      tags:
        - Centralized User Others
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          userId:
                            type: integer
                            description: user id
                          platform:
                            type: integer
                            description: Mobile App or Mobile
                          storage:
                            type: string
                            description : Store in Db records
                          sequence:
                            type: integer
                            description: Change time
                  
                        required:
                          - platform
    post:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Centralized User Others
      summary: Set/Update the storage data in DB
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                        userId:
                          type: integer
                          description: user id
                        platform:
                          type: integer
                          description: Mobile App or Mobile
                        storage:
                          type: string
                          description : Store in Db records
                        sequence:
                          type: integer
                          description: Change time
                  required:
                    - userId
                    - platform
                    - storage
                    - sequence
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          sequence:
                            type: integer
                            description: change times
                  
                        required:
                          - sequence

  /user/friend:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Centralized User Contact
      summary: Add a friend to current account list
      operationId: userAddFriend
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                    username:
                      type: string
                      description: friend username
                    walletAddress:
                      type: string
                      format: address
                      description: friend wallet address
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    get:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Centralized User Contact
      summary: Get friend list
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            walletAddress:
                              type: string
                              description: Friend wallet address
                            username:
                              type: string
                              description: Friend username (maybe empty)
                            email:
                              type: string
                              format: email
                              description: Friend email
                            nickName:
                              type: string
                              description: Nick name
  /user/friend/{walletAddress}:
    put:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: path
          name: walletAddress
          description: Friend wallet address
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Centralized User Contact
      summary: Update friend nick name
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    nickName:
                      type: string
                      description: Friend nick name
                  required:
                    - nickName
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    delete:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: path
          name: walletAddress
          description: Friend wallet address
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Centralized User Contact
      summary: Delete a friend
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /user/changeLoginPassword:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        Update the new signature for the Centralized User Account login
      tags:
        - Centralized User Account
      summary: Change login signature
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldLoginAddress:
                      type: string
                      default: cefa6e58e3628372aae8ee288d933f5507ecd799
                    loginAddress:
                      type: string
                      default: cefa6e58e3628372aae8ee288d933f5507ecd799
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                      default: 1625016367627
                    deviceId:
                      type: string
                      description: Device ID
                      default: 67e7508b-bb7c-48d9-b4cb-17f31efe9075
                    sign:
                      type: string
                      description: signature.
                      default: 6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
                    oldSign:
                      type: string
                      description: old signature.
                      default: 6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
                    publicKey:
                      type: string
                      description: public key, in uncompressed format (66 bytes)
                      default: 03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
                    oldPublicKey:
                      type: string
                      description: old public key, in uncompressed format (66 bytes)
                      default: 03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
                  required:
                  #   - oldPassword
                  #   - newPassword
                    - oldLoginAddress
                    - loginAddress
                    - timestamp
                    - deviceId
                    - sign
                    - oldSign
                    - publicKey
                    - oldPublicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /user/changePaymentPassword:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        Update the new signature for the user payment
      tags:
        - Centralized User Account
      summary: Change payment password
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldOwnerWalletAddress:
                      type: string
                      default: 0x5f4de6435350068a5675450bfa434d9f5bc9a06c
                    ownerWalletAddress:
                      type: string
                      default: 0x5f4de6435350068a5675450bfa434d9f5bc9a06c
                    timestamp:
                      type: integer
                      format: int32
                      description: Current unix timestamp
                      default: 1625016367627
                    deviceId:
                      type: string
                      description: Device ID
                      default: 67e7508b-bb7c-48d9-b4cb-17f31efe9075
                    oldSign:
                      type: string
                      description: old signature.
                      default: 6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
                    sign:
                      type: string
                      description: signature.
                      default: 6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
                    publicKey:
                      type: string
                      description: public key, in uncompressed format (66 bytes)
                      default: 03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
                    oldPublicKey:
                      type: string
                      description: old public key, in uncompressed format (66 bytes)
                      default: 03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
                  required:
                  #   - oldPassword
                  #   - newPassword
                    - oldOwnerWalletAddress
                    - ownerWalletAddress
                    - timestamp
                    - deviceId
                    - sign
                    - oldSign
                    - publicKey
                    - oldPublicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /user/registerDevice:
    post:
      deprecated: true
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        Resigter user's device and BioMetric
      tags:
        - Centralized User Account
      summary: Register a device for an user
      operationId: registerDevice
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    deviceId:
                      type: string
                      description: Device ID
                    enableBioMetric:
                      type: boolean
                      description: Enable biometric verification
                  required:
                    - deviceId
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /user/recentTransaction:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      tags:
        - Centralized User Transaction
      summary: lastest Centralized User Transaction records for last n days
      operationId: recentTransaction
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    currencySymbol:
                      type: string
                      default: ETH

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:                          
                          decimal:
                            type: integer
                            format: int32
                            description: Amount decimal point
                          transList:
                            type: array
                            items:
                              type: object
                              properties:
                                transType:
                                  type: integer
                                  format: int32
                                  description: transaction type (1 => transfer, 2 => deposit, 3 => withdraw)
                                transDate:
                                  type: integer
                                  format: int64
                                  description: transaction date time in UNIX timestamp
                                txHash:
                                  type: string
                                  description: transaction hash
                                status:
                                  type: integer
                                  format: int32
                                  description: transaction status (10 => waiting from confirmation (for centralized user only); 50 => transferred; -10 => error submitting (for centralized user only); -50 => error confirming)
                                remarks:
                                  type: string
                                  description: error message if the transaction is failed
                                isSend:
                                  type: boolean
                                  description: true => transaction send to others
                                fromAddress:
                                  type: string
                                  format: address
                                  description: Source wallet address
                                toAddress:
                                  type: string
                                  format: address
                                  description: Destination address
                                amount:
                                  type: integer
                                  format: int64
                                  description: Transfer amount
                                gasUsed:
                                  type: integer
                                  format: int64
                                  description: Gas used by user
                                gasPrice:
                                  type: integer
                                  format: int64
                                  description: Gas price
  /user/withdrawAdminFee/{currencySymbol}:
    get:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: path
          name: currencySymbol
          description: Currency name
          schema:
            type: string
          required: true
          example: USDT
      tags:
        - Centralized User Transaction
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          currency:
                            type: string
                            description: Currency name
                          fee:
                            type: integer
                            format: int64
                            description: Withdraw fee
                          decimal:
                            type: integer
                            format: int32
                            description: Withdraw fee decimal
                        required:
                          - currency
                          - fee
                          - decimal


  /user/forgetLoginPassword:
    post:
      description: |
        Request email to reset password
      tags:
        - Centralized User Account
      summary:
        forget login address
      operationId: forgetLoginAddress
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    email:
                      type: string
                      default: email1@domain.com
                  required:
                    - email
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"


  /user/verifyForgetLoginPassword:
    post:
      description: |
        Prerequisite: get the code from "/user/forgetLoginPassword"<br><br>
        Retrieve the new token by verifying code from email
      tags:
        - Centralized User Account
      summary: verify forget login password token
      operationId: verifyForgetLoginPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                    userId:
                      type: integer
                      description: user id
                      default: 408
                    code:
                      type: string
                      description: verification code
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        properties:
                          token:
                            type: string
                            description: reset login password Token

  /user/resetLoginPassword:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        Update and replace the new signature for the Centralized User Account login
      tags:
        - Centralized User Account
      summary: reset login password
      operationId: resetLoginPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                          timestamp:
                            type: integer
                            format: int32
                            description: Current unix timestamp
                            default: 1625016367627
                          deviceId:
                            type: string
                            description: Device ID
                            default: 67e7508b-bb7c-48d9-b4cb-17f31efe9075
                          loginAddress:
                            type: string
                            description: Login Address.
                            minimum: 3
                            maximum: 20
                            default: cefa6e58e3628372aae8ee288d933f5507ecd799
                          sign:
                            type: string
                            description: signature.
                            default: 6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
                          publicKey:
                            type: string
                            description: publicKey.
                            default: 03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
                  required:
                          - timestamp
                          - deviceId
                          - loginAddress
                          - sign
                          - publicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
  
  /user/forgetPaymentPassword:
    post:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        Request email to reset password
      tags:
        - Centralized User Account
      summary:
        forget payment address
      operationId: forgetPaymentAddress
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/GeneralResponse"


  /user/verifyForgetPaymentPassword:
    post:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        Prerequisite: get the code from "/user/forgetPaymentPassword"<br><br>
        Retrieve the new token by verifying code from email
      tags:
        - Centralized User Account
      summary: verify forget payment password token
      operationId: verifyForgetPaymentPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                    code:
                      type: string
                      description: verification code
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        properties:
                          token:
                            type: string
                            description: reset payment password Token

  /user/resetPaymentPassword:
    post:
      security:
        - Authorization: []
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      description: |
        Update and replace the new signature for the Centralized User Account login
      tags:
        - Centralized User Account
      summary: reset payment password
      operationId: resetPaymentPassword
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  description: Any one of
                  properties:
                          timestamp:
                            type: integer
                            format: int32
                            description: Current unix timestamp
                            default: 1625016367627
                          deviceId:
                            type: string
                            description: Device ID
                            default: 67e7508b-bb7c-48d9-b4cb-17f31efe9075
                          ownerWalletAddress:
                            type: string
                            description: ownerWalletAddress.
                            minimum: 3
                            maximum: 20
                            default: 0x5f4de6435350068a5675450bfa434d9f5bc9a06c
                          sign:
                            type: string
                            description: signature.
                            default: 6039ece68ffe9b521617b1b5b44b0873c7b9522b1e2d32888f43f5b27420c49424710b752939b2c425ea1a0e963c3f2fad1013d160ec69613b6046004298e90e
                          publicKey:
                            type: string
                            description: publicKey.
                            default: 03c07421794fdefddab88ac7d2daea3109078f4578470d0a4b7814c7eca151c891
                  required:
                          - timestamp
                          - deviceId
                          - ownerWalletAddress
                          - sign
                          - publicKey
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
  
  ###################################################################################

  /admin/login:
    post:
      deprecated: true
      tags:
        - Admin
      summary: Admin login
      operationId: adminLogin
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Admin username
                    password:
                      type: string
                      format: password
                      description: Hashed Admin password
                  required:
                    - username
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          loginToken:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry timestamp

  /admin/merchant:
    post:
      deprecated: true
      tags:
        - Admin
      summary: Create a merchant account. Merchant need to change his username and password when first login the system
      operationId: createMerchant
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Merchant user name
                    password:
                      type: string
                      description: First time password
                    email:
                      type: string
                      description: Admin email
                    merchantName:
                      type: string
                      description: Merchant name
                    callbackUrl:
                      type: string
                      format: url
                      description: Merchant callback URL
                  required:
                    - username
                    - merchantName
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          merchantId:
                            type: integer
                            format: int64
                            description: Merchant Id
                        required:
                          - merchantId
    get:
      deprecated: true
      tags:
        - Admin
      summary: Query merchant list
      operationId: merchantList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            merchantId:
                              type: integer
                              format: int64
                              description: Merchant id
                            merchantName:
                              type: string
                              description: Merchant name
                          required:
                            - merchantId
                            - merchantName

  /admin/merchant/{merchantId}:
    get:
      deprecated: true
      tags:
        - Admin
      summary: Merchant details
      operationId: merchantDetails
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: merchantId
          description: Merchant Id
          schema:
            type: integer
          in: path
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          merchantName:
                            type: string
                            description: Merchant name
                          walletAddress:
                            type: string
                            format: address
                            description: Merchant Eurus wallet address
                          hotWalletAddress:
                            type: string
                            format: address
                            description: Merchant mainnet wallet address
                          callbackUrl:
                            type: string
                            format: url
                            description: callback url
                          updatedBy:
                            type: string
                            description: updated by
                          merchantAdminList:
                            type: array
                            items:
                              $ref: "#/components/schemas/MerchantAdmin"

  /admin/subAdmin:
    post:
      deprecated: true
      tags:
        - Admin
      summary: Create a subadmin account.
      operationId: createSubAdmin
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Admin username
                    password:
                      type: string
                      format: password
                      description: Password
                    roleList:
                      type: array
                      items:
                        type: integer
                        description: role ID
                  required:
                    - username
                    - password
                    - roleList

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    get:
      deprecated: true
      tags:
        - Admin
      summary: Get sub admin account list.
      operationId: subAdminList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            adminId:
                              type: integer
                              format: int64
                              description: Admin ID
                            username:
                              type: string
                              description: Admin username
                            roleList:
                              type: array
                              description: Role list
                              items:
                                type: integer
                                description: Role ID

  /admin/subAdmin/{adminId}:
    delete:
      deprecated: true
      summary: Delete sub admin account (Cannot delete self sub admin account nor master admin account)
      tags:
        - Admin
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: adminId
          schema:
            type: integer
          in: path
          description: Admin ID
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/subAdmin/role/{adminId}:
    put:
      deprecated: true
      tags:
        - Admin
      summary: Update sub admin account roles (Cannot update self sub admin account).
      operationId: subAdminRole
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: adminId
          in: path
          schema:
            type: integer
          required: true
          description: Admin ID
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    password:
                      type: string
                      format: password
                      description: Password
                    roleList:
                      type: array
                      items:
                        type: integer
                        description: role ID
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/subAdmin/password/{adminId}:
    put:
      deprecated: true
      tags:
        - Admin
      summary: Update sub admin account password.
      operationId: subAdminPassword
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: adminId
          in: path
          schema:
            type: integer
          description: If adminId = 0, update self password
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldPassword:
                      type: string
                      format: password
                      description: If adminId = 0, this is the old password; otherwise, no need to send this field
                    password:
                      type: string
                      format: password
                      description: New password
                  required:
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/subAdmin/status/{adminId}:
    put:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: adminId
          in: path
          schema:
            type: integer
          required: true
      deprecated: true
      tags:
        - Admin
      summary: Update sub admin account status (Cannot update self account nor master admin account)
      operationId: subAdminStatus
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    status:
                      type: integer
                      format: int32
                      description: 0 - disabled; 1 -  enabled
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/permission:
    get:
      deprecated: true
      tags:
        - Admin
      summary: Get permission list
      operationId: permission
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Permission"
  /admin/role:
    get:
      deprecated: true
      tags:
        - Admin
      summary: Get role list
      operationId: roleList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            roleId:
                              type: integer
                              format: int64
                              description: Role ID
                            roleName:
                              type: string
                              description: Role name
  /admin/role/{roleId}:
    get:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: roleId
          in: path
          schema:
            type: integer
            format: int64
          description: Role ID
          required: true
      deprecated: true
      tags:
        - Admin
      summary: Get role details
      operationId: roleDetails
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          roleId:
                            type: integer
                            format: int64
                            description: Role ID
                          roleName:
                            type: string
                            description: Role name
                          description:
                            type: string
                            description: Role description
                          createdBy:
                            type: string
                            description: Create by
                          permissionList:
                            type: array
                            items:
                              type: integer
                              format: int64
                              description: Permission ID for this role

    put:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: roleId
          in: path
          schema:
            type: integer
            format: int64
          description: Role ID
          required: true
      deprecated: true
      tags:
        - Admin
      summary: Update a role permission
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    roleId:
                      type: integer
                      format: int64
                      description: Role ID
                    roleName:
                      type: string
                      description: Role name
                    permissionList:
                      type: array
                      items:
                        type: integer
                        format: int64
                        description: Permission ID to updated. Empty list means no permission for this role
                  required:
                    - roleId
                    - permissionList
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    delete:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: roleId
          in: path
          schema:
            type: integer
            format: int64
          description: Role ID
          required: true
      deprecated: true
      tags:
        - Admin
      summary: Delete a role
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/pendingWithdraw:
    get:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Admin
      summary: Query pending withdraw list
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: array
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            pendingId:
                              type: integer
                              format: int64
                              description: Pending queue Id
                            merchantId:
                              type: integer
                              description: Merchant Id
                            merchantName:
                              type: string
                              description: merchant name
                            fromWalletAddress:
                              type: string
                              description: Merchant Eurus wallet address
                            targetWalletAddress:
                              type: string
                              description: Merchant Mainnet wallet address
                            createDate:
                              type: string
                              format: date-time
                              description: Create date in UTC 0
                            status:
                              type: integer
                              description: Current status
  /admin/pendingWithdraw/{pendingWithdrawId}:
    put:
      deprecated: true
      tags:
        - Admin
      summary: Approve or reject a withdraw request
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: path
          name: pendingWithdrawId
          description: Pending withdraw ID
          schema:
            type: integer
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    answer:
                      type: integer
                      description: 1 - approve, 2 - reject
                  required:
                    - answer
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/pendingWithdrawHistory:
    get:
      deprecated: true
      tags:
        - Admin
      summary: Query pending approval history
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: query
          name: startDate
          description: Start date in UTC 0 inclusively
          schema:
            type: string
          required: true
        - in: query
          name: endDate
          description: End date in UTC 0 inclusively
          schema:
            type: string
          required: true
        - in: query
          name: merchantId
          description: Merchant Id
          schema:
            type: integer
          required: false
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /admin/pendingConfirmAPISetting:
    get:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Admin
      summary: Query pending confirm API setting list
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          properties:
                            pendingConfigId:
                              type: integer
                              format: int64
                            withdrawConfirmUrl:
                              type: string
                              format: url
                            transferConfirmUrl:
                              type: string
                              format: url
                            ipList:
                              type: array
                              items:
                                type: string
                                description: IP":"port
                            merchantId:
                              type: integer
                              format: int64
                            submittedUser:
                              type: string
                              description: Merchant admin username
                            status:
                              type: integer
                              description: Pending status
                            createDate:
                              type: string
                              format: date-time
                              description: Create date time in UTC 0
                            lastModifiedDate:
                              type: string
                              format: date-time
                              description: Last update time
                            adminUser:
                              type: string
                              description: Approve or rejected by

  /admin/pendingConfirmAPISetting/{pendingId}:
    put:
      deprecated: true
      tags:
        - Admin
      summary: Query pending confirm API setting list
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - in: path
          name: pendingId
          description: Pending ID for update
          schema:
            type: integer
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'   
  /admin/server/list:
    get:
      deprecated: true
      tags:
        - Admin
      summary: Query server list
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true      
      responses:        
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object 
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            serverId:
                              type: integer
                              description: Server Id
                            serverName:
                              type: string
                              description: Server name
                            address:
                              type: string
                              format: hex
                              description: Server address
                            eunBalance:
                              type: integer
                              description: EUN balance
                            eunDecimal:
                              type: integer
                              description: EUN decimal
                            ethBalance:
                              type: integer
                              description: ETH balance
                            ethDecimal:
                              type: integer
                              description: ETH decimal
  /admin/fee/withdrawalFee:
    get:
      deprecated: true
      tags:
        - Admin
      summary: Query withraw admin fee 
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true        
      responses:        
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object 
                    properties:
                       data:
                        type: array
                        items:
                          type: object
                          properties:
                              currencyName:
                                type: string
                                description: Currency name
                              amount:
                                type: integer
                                format: int64
                              decimal:
                                type: integer
                                format: int32
    post:
      deprecated: true
      summary: Update withdraw fee in ETH
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          'application/json':
            schema:
              allOf:
                - $ref: '#/components/schemas/GeneralRequest'
                - type: object
      responses:        
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'

  /merchant/login:
    post:
      deprecated: true
      tags:
        - Merchant
      summary: Merchant admin login
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    merchantId:
                      type: integer
                      description: Merchant ID
                    username:
                      type: string
                      description: Merchant username
                    password:
                      type: string
                      format: password
                      description: Password hash
                  required:
                    - merchantId
                    - username
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          loginToken:
                            type: string
                            description: Login token
                          expiryTime:
                            type: string
                            format: date-time
                            description: Token expiry timestamp
  /merchant/initalizeWallet:
    post:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      deprecated: true
      tags:
        - Merchant
      summary: Initialize merchant wallet
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    walletWorkflowType:
                      type: integer
                      description: TBC
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          walletAddress:
                            type: string
                            description: Eurus wallet address
                          hotWalletAddress:
                            type: string
                            description: Mainnet hot wallet address
  /merchant/subAdmin:
    post:
      deprecated: true
      tags:
        - Merchant
      summary: Create a merchant subadmin account.
      operationId: createMerchantSubAdmin
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    username:
                      type: string
                      description: Merchant admin username
                    loginPassword:
                      type: string
                      format: password
                      description: Login password
                    walletPassword:
                      type: string
                      format: password
                      description: Wallet password
                    email:
                      type: string
                      format: email
                      description: Email
                    roleList:
                      type: array
                      items:
                        type: integer
                        description: role ID
                  required:
                    - username
                    - loginPassword
                    - walletPassword
                    - roleList

      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    get:
      deprecated: true
      tags:
        - Merchant
      summary: Get merchant sub admin account list.
      operationId: merchantSubAdminList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            adminId:
                              type: integer
                              format: int64
                              description: Admin ID
                            username:
                              type: string
                              description: Admin username
                            roleList:
                              type: array
                              description: Role list
                              items:
                                type: integer
                                description: Role ID

  /merchant/subAdmin/{merchantAdminId}:
    delete:
      deprecated: true
      summary: Delete merchant sub admin account (Cannot delete self sub admin account nor master admin account)
      tags:
        - Merchant
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: merchantAdminId
          schema:
            type: integer
          in: path
          description: Merchant admin ID
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /merchant/subAdmin/password/{merchantAdminId}:
    put:
      deprecated: true
      tags:
        - Merchant
      summary: Update merchant sub admin account password.
      operationId: subAdminMerchantPassword
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: merchantAdminId
          in: path
          schema:
            type: integer
          description: If merchantAdminId = 0, update self password
          required: true
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    oldPassword:
                      type: string
                      format: password
                      description: If adminId = 0, this is the old password; otherwise, no need to send this field
                    password:
                      type: string
                      format: password
                      description: New password
                  required:
                    - password
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /merchant/subAdmin/status/{merchantAdminId}:
    put:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: merchantAdminId
          in: path
          schema:
            type: integer
          required: true
      deprecated: true
      tags:
        - Merchant
      summary: Update merchant sub admin account status (Cannot update self account nor master admin account)
      operationId: subAdminMerchantStatus
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    status:
                      type: integer
                      format: int32
                      description: 0 - disabled; 1 -  enabled
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
  /merchant/permission:
    get:
      deprecated: true
      tags:
        - Merchant
      summary: Get permission list
      operationId: merchantPermission
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Permission"
  /merchant/role:
    get:
      deprecated: true
      tags:
        - Merchant
      summary: Get role list
      operationId: roleMerchantList
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            roleId:
                              type: integer
                              format: int64
                              description: Role ID
                            roleName:
                              type: string
                              description: Role name
  /merchant/role/{roleId}:
    get:    
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: roleId
          in: path
          schema:
            type: integer
            format: int64
          description: Role ID
          required: true
      deprecated: true
      tags:
        - Merchant
      summary: Get role details
      operationId: merchantRole
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          roleId:
                            type: integer
                            format: int64
                            description: Role ID
                          roleName:
                            type: string
                            description: Role name
                          description:
                            type: string
                            description: Role description
                          createdBy:
                            type: string
                            description: Create by
                          permissionList:
                            type: array
                            items:
                              type: integer
                              format: int64
                              description: Permission ID for this role

    put:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: roleId
          in: path
          schema:
            type: integer
            format: int64
          description: Role ID
          required: true
      deprecated: true
      tags:
        - Merchant
      summary: Update a role permission
      requestBody:
        content:
          "application/json":
            schema:
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    roleId:
                      type: integer
                      format: int64
                      description: Role ID
                    roleName:
                      type: string
                      description: Role name
                    permissionList:
                      type: array
                      items:
                        type: integer
                        format: int64
                        description: Permission ID to updated. Empty list means no permission for this role
                  required:
                    - roleId
                    - permissionList
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
    delete:
      parameters:
        - in: header
          name: Authorization
          description: Login token
          schema:
            type: string
          required: true
        - name: roleId
          in: path
          schema:
            type: integer
            format: int64
          description: Role ID
          required: true
      deprecated: true
      tags:
        - Merchant
      summary: Delete a role
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"

  /merchant/transfer:
    post:
      deprecated: true
      tags:
        - Merchant
      summary: Transfer to another Eurus address (this API does not support transfer to mainnet address)
      requestBody:
        content:
          "application/json":
            schema:
              type: object
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    walletPassword:
                      type: string
                      format: password
                      description: Wallet password
                    toAddress:
                      type: string
                      description: Eurus target address
                    amount:
                      type: string
                      description: Amount to transfer * 1000000000
                    assetName:
                      type: string
                      description: Asset to transfer
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          needApproval:
                            type: boolean
                            description: Transfer is waiting for approval
  /merchant/withdraw:
    post:
      deprecated: true
      tags:
        - Merchant
      summary: Withdraw money from Eurus wallet to mainnet wallet
      requestBody:
        content:
          "application/json":
            schema:
              type: object
              allOf:
                - $ref: "#/components/schemas/GeneralRequest"
                - type: object
                  properties:
                    walletPassword:
                      type: string
                      format: password
                      description: Wallet password
                    amount:
                      type: string
                      description: Amount to transfer * 1000000000
                    assetName:
                      type: string
                      description: Asset to transfer
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: object
                allOf:
                  - $ref: "#/components/schemas/GeneralResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          needApproval:
                            type: boolean
                            description: Transfer is waiting for approval

  /testnet/asset/faucet:
    get:
      deprecated: true
      tags:
      - testnet
      summary: Get faucet currency config
      responses:
        200:
          description: Successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          properties:
                            assetName:
                              type: string
                              description: Asset name
                            decimal:
                              type: number
                              format: int32
                              description: Number of decimal
                            amount:
                              type: number
                              format: int64
                              description: Amount faucet every time
                            dateInterval:
                              type: number
                              format: int32
                              description: Number of faucet day interval

    post:
      deprecated: true
      tags:
      - testnet
      summary: Faucet certain currency to target wallet address at Rinkeby
      requestBody:
        content:
          'application/json':
            schema:
              type: object
              allOf: 
                - $ref: '#/components/schemas/GeneralRequest'
                - type: object
                  properties:
                    assetName:
                      type: string
                      description: Asset to transfer
                    destAddress:
                      type: string
                      format: hex
                      description: Faucet destination address (with 0x prefix)
      responses:
        200:
          description: successful operation
          content:
            'application/json':
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/GeneralResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:  
                          txHash:
                            type: string
                            format: hex
                            description: Transaction hash waiting for confirmation
                          status:
                            type: number
                            format: int32
                            description: Processing status - 1 = transaction created, 2 = waiting for confirmation, 3 = facet already today, try again later

components:
  securitySchemes:
    Authorization:
      type: apiKey
      in: header
      name: "Authorization"
  schemas:
    GeneralRequest:
      type: object

    GeneralResponse:
      type: object
      properties:
        nonce:
          type: string
          format: uuid
          description: Request nonce
        returnCode:
          type: integer
          description: Server return code - Reference to ServerReturnCode
        message:
          type: string
          description: Server returns message
        data:
          type: object
          description: Resquest specific response
    Permission:
      type: object
      properties:
        permissionId:
          type: integer
          format: int64
          description: Permission ID
        permissionName:
          type: string
          description: Permission name
        childList:
          type: array
          description: Child permission list
          items:
            type: object
            $ref: "#/components/schemas/Permission"
            description: child permission
      required:
        - permissionId
        - permissionName
    MerchantDetails:
      type: object
      properties:
        merchantName:
          type: string
          description: Merchant name
        walletAddress:
          type: string
          format: address
          description: Merchant Eurus wallet address
        hotWalletAddress:
          type: string
          format: address
          description: Merchant mainnet wallet address
        callbackUrl:
          type: string
          format: url
          description: callback url
        updatedBy:
          type: string
          description: updated by

    MerchantAdmin:
      type: object
      properties:
        username:
          type: string
          description: Merchant user name
        email:
          type: string
          format: email
          description: Merchant admin email
        status:
          type: integer
          format: int32
          description: Admin account state
        createDate:
          type: string
          format: date-time
          description: Create date
        lastModifiedDate:
          type: string
          format: date-time
          description: Last modified date
    ServerReturnCode:
      type: integer
      enum:
        - 0: Success
          1: Not Found
          2: Already exists
          3: Validation failed
          4: Invalid signature
          5: Login expired
          6: Invalid login token
          7: Permission denied
          100000: Database error begins

    CurrencySymbol:
      type: array
      description: Currency Symbol
      items:
        type: string
        description: Currency symbol of ERC20 assets
